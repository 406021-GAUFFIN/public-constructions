{"openapi":"3.0.1","info":{"title":"'@project.name@'","description":"'@project.description@'","contact":{"name":"Joe Doe","email":"dumy@dumy"},"version":"'@project.version@'"},"servers":[{"url":"http://localhost:8080","description":"'@project.description@'"}],"paths":{"/constructions/status":{"put":{"tags":["construction-controller"],"summary":"Update construction status","description":"Update the status of an existing construction by providing a valid status and construction ID","operationId":"updateConstructionStatus","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConstructionUpdateStatusRequestDto"}}},"required":true},"responses":{"200":{"description":"Construction status updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ConstructionUpdateStatusResponseDto"}}}},"404":{"description":"Construction not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"400":{"description":"Invalid status or validation failure","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}}}}},"/workers":{"post":{"tags":["worker-controller"],"summary":"Create a new worker","description":"Creates a new worker by providing the necessary details, such as CUIL, document, and contact information.","operationId":"addWorker","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerRequestDto"}}},"required":true},"responses":{"200":{"description":"Worker created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkerResponseDto"}}}},"400":{"description":"Invalid worker request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}}}}},"/workers/documentation":{"post":{"tags":["worker-controller"],"summary":"Add documentation for a worker","description":"Adds documentation for an existing worker, including details like certifications and qualifications.","operationId":"addDocumentation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerDocumentationRequestDto"}}},"required":true},"responses":{"404":{"description":"Worker not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"400":{"description":"Invalid documentation request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"200":{"description":"Documentation added successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WorkerDocumentationResponseDto"}}}}}}},"/workers/allow-access/{workerId}":{"post":{"tags":["worker-controller"],"summary":"Allow access to a worker","description":"Grants access to a worker with a specified comment.","operationId":"allowWorkerAccess","parameters":[{"name":"comment","in":"query","required":true,"schema":{"type":"string"}},{"name":"workerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Worker not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"200":{"description":"Access granted successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthorizationRangeResponseDto"}}}}}}},"/constructions":{"post":{"tags":["construction-controller"],"summary":"Create a new construction","description":"Creates a new construction by providing the necessary details, such as plot ID and other construction details.","operationId":"createConstruction","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConstructionRequestDto"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}},"200":{"description":"Construction created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ConstructionResponseDto"}}}},"400":{"description":"Invalid construction request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}}}}},"/ping":{"get":{"tags":["ping-controller"],"summary":"Check healthy of the app","description":"If the app it's alive response pong","operationId":"pong","responses":{"200":{"description":"Successful operation","content":{"*/*":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorApi"}}}}}}}},"components":{"schemas":{"ConstructionUpdateStatusRequestDto":{"type":"object","properties":{"status":{"type":"string","enum":["PLANNED","APPROVED","IN_PROGRESS","COMPLETED","STOPPED"]},"construction_id":{"type":"integer","format":"int64"}}},"ConstructionUpdateStatusResponseDto":{"type":"object","properties":{"message":{"type":"string"}}},"ErrorApi":{"type":"object","properties":{"timestamp":{"type":"string"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"}}},"ContactRequestDto":{"type":"object","properties":{"contact_value":{"type":"string"},"contact_type":{"type":"string","readOnly":true}}},"WorkerRequestDto":{"required":["address","contact","cuil","document","last_name","name"],"type":"object","properties":{"contact":{"$ref":"#/components/schemas/ContactRequestDto"},"address":{"type":"string"},"name":{"maxLength":50,"minLength":0,"type":"string"},"cuil":{"pattern":"\\d{11}","type":"string"},"document":{"maxLength":20,"minLength":0,"type":"string"},"last_name":{"maxLength":50,"minLength":0,"type":"string"},"worker_speciality_type":{"type":"integer","format":"int64"},"construction_id":{"type":"integer","format":"int64"},"created_by":{"type":"integer","format":"int64"}}},"WorkerResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"contact":{"$ref":"#/components/schemas/ContactRequestDto"},"address":{"type":"string"},"name":{"type":"string"},"cuil":{"type":"string"},"document":{"type":"string"},"last_name":{"type":"string"},"worker_speciality_type":{"$ref":"#/components/schemas/WorkerSpecialityTypeResponseDto"}}},"WorkerSpecialityTypeResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"}}},"WorkerDocumentationRequestDto":{"required":["art_documentation_path","cat_documentation_path","created_by","expire_date","worker_id"],"type":"object","properties":{"expire_date":{"pattern":"\\d{2}/\\d{2}/\\d{4}","type":"string"},"art_documentation_path":{"type":"string"},"cat_documentation_path":{"type":"string"},"worker_id":{"type":"integer","format":"int64"},"created_by":{"type":"integer","format":"int32"}}},"WorkerDocumentationResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"expireDate":{"type":"string"},"artDocumentationPath":{"type":"string"},"catDocumentationPath":{"type":"string"},"workerId":{"type":"integer","format":"int64"},"workerFullName":{"type":"string"}}},"AuthorizationRangeResponseDto":{"type":"object","properties":{"createdUser":{"type":"integer","format":"int64"},"createdDate":{"type":"string","format":"date-time"},"lastUpdatedUser":{"type":"integer","format":"int64"},"lastUpdatedDate":{"type":"string","format":"date-time"},"authRangeId":{"type":"integer","format":"int64"},"authType":{"type":"integer","format":"int64"},"visitorId":{"type":"integer","format":"int64"},"externalId":{"type":"integer","format":"int64"},"dateFrom":{"type":"string","format":"date"},"dateTo":{"type":"string","format":"date"},"hourFrom":{"$ref":"#/components/schemas/LocalTime"},"hourTo":{"$ref":"#/components/schemas/LocalTime"},"days":{"type":"string"},"plotId":{"type":"integer","format":"int64"},"comment":{"type":"string"},"active":{"type":"boolean"}}},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}}},"ConstructionRequestDto":{"type":"object","properties":{"description":{"type":"string"},"plot_id":{"type":"integer","format":"int64"},"planned_start_date":{"type":"string","format":"date-time"},"planned_end_date":{"type":"string","format":"date-time"},"project_name":{"type":"string"},"project_address":{"type":"string"}}},"ConstructionDocumentation":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdDate":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"lastUpdatedAt":{"type":"string","format":"date-time"},"lastUpdatedBy":{"type":"string"},"approved":{"type":"boolean"},"documentPath":{"type":"string"},"documentType":{"$ref":"#/components/schemas/DocumentationType"}}},"ConstructionResponseDto":{"type":"object","properties":{"construction_id":{"type":"integer","format":"int64"},"plot_id":{"type":"integer","format":"int64"},"planned_start_date":{"type":"string","format":"date-time"},"actual_start_date":{"type":"string","format":"date-time"},"planned_end_date":{"type":"string","format":"date-time"},"actual_end_date":{"type":"string","format":"date-time"},"project_description":{"type":"string"},"approved_by_municipality":{"type":"boolean"},"project_name":{"type":"string"},"project_address":{"type":"string"},"construction_status":{"type":"string","enum":["PLANNED","APPROVED","IN_PROGRESS","COMPLETED","STOPPED"]},"notes":{"type":"array","items":{"$ref":"#/components/schemas/Note"}},"construction_documentation":{"type":"array","items":{"$ref":"#/components/schemas/ConstructionDocumentation"}},"workers":{"type":"array","items":{"$ref":"#/components/schemas/Worker"}}}},"DocumentationType":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdDate":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"lastUpdatedAt":{"type":"string","format":"date-time"},"lastUpdatedBy":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"}}},"Note":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdDate":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"lastUpdatedAt":{"type":"string","format":"date-time"},"lastUpdatedBy":{"type":"string"},"description":{"type":"string"},"userId":{"type":"integer","format":"int64"}}},"Worker":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdDate":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"lastUpdatedAt":{"type":"string","format":"date-time"},"lastUpdatedBy":{"type":"string"},"contactId":{"type":"integer","format":"int32"},"address":{"type":"string"},"name":{"type":"string"},"lastName":{"type":"string"},"cuil":{"type":"string"},"document":{"type":"string"},"workerSpeciality":{"$ref":"#/components/schemas/WorkerSpeciality"},"documentation":{"type":"array","items":{"$ref":"#/components/schemas/WorkerDocumentation"}},"availableToWork":{"type":"boolean"}}},"WorkerDocumentation":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdDate":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"lastUpdatedAt":{"type":"string","format":"date-time"},"lastUpdatedBy":{"type":"string"},"expireDate":{"type":"string","format":"date-time"},"artDocumentPath":{"type":"string"},"catDocumentPath":{"type":"string"}}},"WorkerSpeciality":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdDate":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"lastUpdatedAt":{"type":"string","format":"date-time"},"lastUpdatedBy":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"}}}}}}